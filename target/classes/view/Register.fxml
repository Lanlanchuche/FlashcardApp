<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<BorderPane prefHeight="720" prefWidth="1280"
            style="-fx-background-color: #f0f2f5;"
            styleClass="root"
            stylesheets="@style.css"
            xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.mycompany.flashcardapp.controller.RegisterController">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #2c3e50;">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15"/>
            </padding>
            <children>
                <Button onAction="#backToWelcome" text="â† Quay láº¡i" styleClass="secondary-button"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14; -fx-cursor: hand;" />
            </children>
        </HBox>
    </top>

    <center>
        <StackPane BorderPane.alignment="CENTER">
            <padding>
                <Insets top="30" right="60" bottom="30" left="60"/>
            </padding>
            <children>
                <VBox alignment="CENTER" spacing="20"
                      minWidth="400" prefWidth="460" maxWidth="520"
                      style="-fx-background-color: white;
                             -fx-background-radius: 20;
                             -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.12), 25, 0, 0, 6);">
                    <padding>
                        <Insets top="40" right="40" bottom="40" left="40"/>
                    </padding>
                    <children>
                        <!-- App icon and title -->
                        <VBox alignment="CENTER" spacing="8">
                            <children>
                                <Label text="ðŸ“š" style="-fx-font-size: 48;" />
                                <Label text="ÄÄƒng kÃ½ tÃ i khoáº£n"
                                       style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
                                <Label text="Táº¡o tÃ i khoáº£n má»›i Ä‘á»ƒ báº¯t Ä‘áº§u"
                                       style="-fx-font-size: 13; -fx-text-fill: #7f8c8d;" />
                            </children>
                        </VBox>

                        <Region prefHeight="5" />

                        <!-- Register form -->
                        <VBox spacing="15" fillWidth="true">
                            <children>
                                <!-- Username field -->
                                <VBox spacing="6">
                                    <children>
                                        <Label text="TÃªn Ä‘Äƒng nháº­p"
                                               style="-fx-font-size: 13; -fx-font-weight: 600; -fx-text-fill: #34495e;" />
                                        <TextField fx:id="usernameField"
                                                   promptText="Nháº­p tÃªn Ä‘Äƒng nháº­p (tá»‘i thiá»ƒu 3 kÃ½ tá»±)"
                                                   prefHeight="45"
                                                   style="-fx-background-color: #f8f9fa;
                                                         -fx-background-radius: 10;
                                                         -fx-border-color: #e0e0e0;
                                                         -fx-border-radius: 10;
                                                         -fx-border-width: 1;
                                                         -fx-font-size: 14;
                                                         -fx-padding: 0 15;" />
                                    </children>
                                </VBox>

                                <!-- Email field -->
                                <VBox spacing="6">
                                    <children>
                                        <Label text="Email"
                                               style="-fx-font-size: 13; -fx-font-weight: 600; -fx-text-fill: #34495e;" />
                                        <TextField fx:id="emailField"
                                                   promptText="Nháº­p Ä‘á»‹a chá»‰ email (vd: user@example.com)"
                                                   prefHeight="45"
                                                   style="-fx-background-color: #f8f9fa;
                                                         -fx-background-radius: 10;
                                                         -fx-border-color: #e0e0e0;
                                                         -fx-border-radius: 10;
                                                         -fx-border-width: 1;
                                                         -fx-font-size: 14;
                                                         -fx-padding: 0 15;" />
                                    </children>
                                </VBox>

                                <!-- Password field -->
                                <VBox spacing="6">
                                    <children>
                                        <Label text="Máº­t kháº©u"
                                               style="-fx-font-size: 13; -fx-font-weight: 600; -fx-text-fill: #34495e;" />
                                        <PasswordField fx:id="passwordField"
                                                       promptText="Nháº­p máº­t kháº©u (tá»‘i thiá»ƒu 6 kÃ½ tá»±)"
                                                       prefHeight="45"
                                                       style="-fx-background-color: #f8f9fa;
                                                             -fx-background-radius: 10;
                                                             -fx-border-color: #e0e0e0;
                                                             -fx-border-radius: 10;
                                                             -fx-border-width: 1;
                                                             -fx-font-size: 14;
                                                             -fx-padding: 0 15;" />
                                    </children>
                                </VBox>

                                <!-- Confirm Password field -->
                                <VBox spacing="6">
                                    <children>
                                        <Label text="XÃ¡c nháº­n máº­t kháº©u"
                                               style="-fx-font-size: 13; -fx-font-weight: 600; -fx-text-fill: #34495e;" />
                                        <PasswordField fx:id="confirmPasswordField"
                                                       promptText="Nháº­p láº¡i máº­t kháº©u"
                                                       prefHeight="45"
                                                       onAction="#handleRegister"
                                                       style="-fx-background-color: #f8f9fa;
                                                             -fx-background-radius: 10;
                                                             -fx-border-color: #e0e0e0;
                                                             -fx-border-radius: 10;
                                                             -fx-border-width: 1;
                                                             -fx-font-size: 14;
                                                             -fx-padding: 0 15;" />
                                    </children>
                                </VBox>

                                <!-- Error message -->
                                <Label fx:id="registerErrorLabel"
                                       text=""
                                       textFill="#e74c3c"
                                       wrapText="true"
                                       style="-fx-font-size: 12; -fx-font-weight: 500;"
                                       minHeight="18" />

                                <!-- Register button -->
                                <Button onAction="#handleRegister"
                                        text="ÄÄƒng kÃ½"
                                        maxWidth="Infinity"
                                        prefHeight="50"
                                        defaultButton="true"
                                        style="-fx-background-color: linear-gradient(to right, #f093fb, #f5576c);
                                               -fx-text-fill: white;
                                               -fx-font-size: 15;
                                               -fx-font-weight: bold;
                                               -fx-background-radius: 12;
                                               -fx-cursor: hand;
                                               -fx-effect: dropshadow(three-pass-box, rgba(240, 147, 251, 0.4), 10, 0, 0, 3);" />

                                <!-- Login link -->
                                <HBox alignment="CENTER" spacing="5">
                                    <children>
                                        <Label text="ÄÃ£ cÃ³ tÃ i khoáº£n?"
                                               style="-fx-font-size: 13; -fx-text-fill: #7f8c8d;" />
                                        <Hyperlink text="ÄÄƒng nháº­p ngay"
                                                   onAction="#goToLogin"
                                                   style="-fx-font-size: 13; -fx-text-fill: #f5576c; -fx-font-weight: 600;" />
                                    </children>
                                </HBox>
                            </children>
                        </VBox>
                    </children>
                </VBox>
            </children>
        </StackPane>
    </center>
</BorderPane>