<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.flashcard.controller.DashboardController"
            styleClass="root"
            stylesheets="@style.css">

    <!-- Top Bar -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="top-bar">
            <padding>
                <Insets top="15" right="20" bottom="15" left="20"/>
            </padding>

            <Label fx:id="welcomeLabel" text="Xin chÃ o!" styleClass="welcome-label"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="logoutButton" text="ÄÄƒng xuáº¥t" onAction="#handleLogout" styleClass="logout-button"/>
        </HBox>
    </top>

    <!-- Main Content -->
    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE" styleClass="tab-pane">
            <!-- Manage Flashcards Tab -->
            <Tab text="Quáº£n lÃ½ Flashcards">
                <VBox spacing="15">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>

                    <!-- Input Form -->
                    <VBox spacing="10" styleClass="form-container">
                        <Label text="ThÃªm / Sá»­a Flashcard" styleClass="section-title"/>

                        <HBox spacing="15">
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="Tá»« vá»±ng:" styleClass="field-label"/>
                                <TextField fx:id="vocabField" promptText="Nháº­p tá»« vá»±ng" styleClass="text-field"/>
                            </VBox>

                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="NghÄ©a:" styleClass="field-label"/>
                                <TextField fx:id="defField" promptText="Nháº­p nghÄ©a" styleClass="text-field"/>
                            </VBox>
                        </HBox>

                        <HBox spacing="10">
                            <Button fx:id="addButton" text="ThÃªm" onAction="#handleAdd" styleClass="primary-button"/>
                            <Button fx:id="updateButton" text="Sá»­a" onAction="#handleUpdate" styleClass="warning-button"/>
                            <Button fx:id="deleteButton" text="XÃ³a" onAction="#handleDelete" styleClass="danger-button"/>
                            <Button fx:id="markLearnedButton" text="ÄÃ¡nh dáº¥u Ä‘Ã£ thuá»™c" onAction="#handleMarkLearned" styleClass="success-button"/>
                        </HBox>
                    </VBox>

                    <!-- Table -->
                    <VBox spacing="10" VBox.vgrow="ALWAYS">
                        <Label text="Danh sÃ¡ch Flashcards" styleClass="section-title"/>

                        <TableView fx:id="flashcardTable" VBox.vgrow="ALWAYS" styleClass="table-view">
                            <columns>
                                <TableColumn fx:id="vocabularyColumn" text="Tá»« vá»±ng" prefWidth="250"/>
                                <TableColumn fx:id="definitionColumn" text="NghÄ©a" prefWidth="300"/>
                                <TableColumn fx:id="learnedColumn" text="ÄÃ£ thuá»™c" prefWidth="100"/>
                            </columns>
                        </TableView>
                    </VBox>
                </VBox>
            </Tab>

            <!-- Review Mode Tab -->
            <Tab text="Cháº¿ Ä‘á»™ Ã´n táº­p">
                <VBox spacing="20" alignment="CENTER">
                    <padding>
                        <Insets top="40" right="40" bottom="40" left="40"/>
                    </padding>

                    <Label text="CHáº¾ Äá»˜ Ã”N Táº¬P" styleClass="title-label"/>

                    <!-- Review Card Display -->
                    <VBox spacing="15" alignment="CENTER" styleClass="review-container">
                        <Label fx:id="reviewDefinitionLabel"
                               text="NghÄ©a sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y"
                               styleClass="review-definition"
                               wrapText="true"
                               maxWidth="500"/>

                        <VBox spacing="10" alignment="CENTER" maxWidth="400">
                            <Label text="Nháº­p tá»« vá»±ng (tiáº¿ng Anh):" styleClass="field-label"/>
                            <TextField fx:id="reviewAnswerField"
                                       promptText="Nháº­p cÃ¢u tráº£ lá»i cá»§a báº¡n"
                                       styleClass="text-field"
                                       prefWidth="400"/>
                        </VBox>

                        <HBox spacing="15" alignment="CENTER">
                            <Button fx:id="submitAnswerButton"
                                    text="Kiá»ƒm tra"
                                    onAction="#handleSubmitAnswer"
                                    styleClass="primary-button"/>
                            <Button fx:id="nextCardButton"
                                    text="Tháº» tiáº¿p theo"
                                    onAction="#handleNextCard"
                                    styleClass="secondary-button"/>
                        </HBox>

                        <Label fx:id="reviewResultLabel"
                               text=""
                               wrapText="true"
                               maxWidth="500"/>
                    </VBox>

                    <!-- Statistics -->
                    <Label fx:id="reviewStatsLabel"
                           text="Thá»‘ng kÃª: 0/0 Ä‘Ãºng (0%) | CÃ²n láº¡i: 0 tháº»"
                           styleClass="stats-label"/>
                </VBox>
            </Tab>

            <!-- Study Timer Tab -->
            <Tab text="Äá»“ng há»“ há»c táº­p">
                <VBox spacing="25" alignment="CENTER">
                    <padding>
                        <Insets top="50" right="50" bottom="50" left="50"/>
                    </padding>

                    <Label text="Äá»’NG Há»’ Há»ŒC Táº¬P" styleClass="title-label"/>

                    <VBox spacing="15" alignment="CENTER" styleClass="timer-container">
                        <Label text="Äáº·t má»¥c tiÃªu há»c táº­p:" styleClass="section-title"/>

                        <HBox spacing="10" alignment="CENTER">
                            <TextField fx:id="timerMinutesField"
                                       promptText="Sá»‘ phÃºt"
                                       styleClass="text-field"
                                       prefWidth="150"/>
                            <Label text="phÃºt" styleClass="field-label"/>
                        </HBox>

                        <!-- Timer Display -->
                        <Label fx:id="timerDisplayLabel"
                               text="00:00"
                               styleClass="timer-display"/>

                        <HBox spacing="15" alignment="CENTER">
                            <Button fx:id="startTimerButton"
                                    text="Báº¯t Ä‘áº§u"
                                    onAction="#handleStartTimer"
                                    styleClass="primary-button"/>
                            <Button fx:id="stopTimerButton"
                                    text="Dá»«ng"
                                    onAction="#handleStopTimer"
                                    styleClass="danger-button"
                                    disable="true"/>
                        </HBox>

                        <Label text="ðŸ’¡ Äáº·t thá»i gian há»c vÃ  nháº¥n 'Báº¯t Ä‘áº§u' Ä‘á»ƒ báº¯t Ä‘áº§u Ä‘áº¿m ngÆ°á»£c!"
                               styleClass="hint-label"
                               wrapText="true"
                               maxWidth="400"/>
                    </VBox>
                </VBox>
            </Tab>
        </TabPane>
    </center>
</BorderPane>

